---
title: "Lesson 8: Problem set"
output: html_notebook
---


### Loading dataset

```{r}
str(diamonds)
head(diamonds)
```

### Loading Required libraries

```{r}
library(tidyr)
library(dplyr)
library(ggplot2)
```

* Price histogram with facet colors

```{r}
diamonds %>%
  ggplot(aes(x = price)) +
  geom_histogram(aes(fill = cut),color = "black", binwidth = 500) +
  scale_x_continuous(limits = c(250,19000), breaks = seq(250,19000,3500)) +
  facet_wrap(~color) +
  scale_color_brewer(type = "qual")
```


* Price vs table colored by cut

```{r}
summary(diamonds$table)
```


```{r}
diamonds %>%
  ggplot(aes(x = table, y = price)) +
  geom_point(aes(color = cut)) +
  scale_x_continuous(limits = c(43,95), breaks = seq(43,95,2)) +
  scale_color_brewer(type = "qual")
```
* Diamond price vs Volume

```{r}
diamonds$volume <- with(diamonds, x * y * z)
str(diamonds)
```

```{r}
quantile(diamonds$volume, 0.99)
```

```{r}
subset(diamonds, volume < 354.4266) %>%
  ggplot(aes(x = volume, y = price)) +
  geom_point(aes(color = clarity)) +
  scale_y_log10(limits = c(250,19000), breaks = seq(250,19000,3000)) +
  scale_color_brewer(type = "div")
```

* Proportions of friendships initiated

```{r}
setwd("F:/Datasets")
pf <- read.delim("pseudo_facebook.tsv")
```

```{r}
names(pf)
```

```{r}
pf$prop_initiated <- with(pf, friendships_initiated / friend_count)
summary(pf$prop_initiated)
```

* prop_initiated vs tenure

```{r}

```

